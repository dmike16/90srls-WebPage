/* 90srlsWebPage 2015-10-18 */var UtilityBuild=function(){var a,b={};return b.dmUtil=function(a){!function(){"use strict";"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice,d=c.call(arguments,1),e=function(){return this instanceof e?void b.apply(this,d.concat(c.call(arguments))):b.apply(a,d.concat(c.call(arguments)))};return e.prototype=Object.create(b.prototype),e})}(),function(){"use strict";"undefined"==typeof Array.prototype.mergeSort&&(Array.prototype.mergeSort=function(){})}(),a.Class=function(){function a(a,b,c){if("object"!=typeof a||"object"!=typeof b)return void console.log(a);var d=/^\[object (?=((?:HTML|global)[^"\r\n]*\]))\1/,e=Object.prototype.toString,f=d.test(e.call(a)),g=f||d.test(e.call(b));f||g||c(a,b)}var b=function g(a,b){if(2!=arguments.length)throw new Error("Interface constructor called with "+arguments.length+"arguments, but expected exaclty 2");if(!(this instanceof g))return new g(a,b);this.name=a,this.methods=[];for(var c=0,d=b.length;d>c;c++){if("string"!=typeof b[c])throw new Error("Interface constructor expects method names to be string");this.methods.push(b[c])}};b.ensureImplements=function(a){if(arguments.length<2)throw new Error("Function Interface,ensureImplements called with"+arguments.length+" arguments, but expected at least 2");for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];if(d.constructor!==Interface)throw new Error("Function expects arguments to be istances of Interface");for(var e=0,f=d.methods.length;f>e;e++){var g=d.methods[e];if(!a[g]||"function"!=typeof a[g])throw new Error("function: object does not implement the"+d.name+"interface Method"+g+"was not found")}}};var c=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=b.prototype,b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b)},d=function(a,b){if(arguments[2])for(var c=2,d=arguments.length;d>c;c++)a.prototype[arguments[c]]=b.prototype[arguments[c]];else for(var e in b.prototype)a.prototype[e]||(a.prototype[e]=b.prototype[e])},e=function(a){function b(){}return b.prototype=a,new b},f=function h(b,c){var d;if(c=c||{},arguments[2]){var e=arguments[2],f="[object Array]",g=Object.prototype.toString;if(g.call(e)!==f)throw new Error("function copyExtend: error in tirth argument type. It must be an array");for(var i=e.length-1;i>=0;i-=1)d=e[i],"string"==typeof d&&b.hasOwnProperty(d)&&(c.hasOwnProperty(d)?a(b[d],c[d],h):c[d]=b[d])}else for(d in b)b.hasOwnProperty(d)&&(c.hasOwnProperty(d)?a(b[d],c[d],h):c[d]=b[d]);return c};return{Interface:b,extend:c,augment:d,clone:e,extendByCopy:f}}(),a.EventUtility=function(){"use strict";var b;if("undefined"!=typeof document.documentElement.uniqueID)b=function(a){return a.uniqueID};else{var c=0;b=function(a){return a.__uniqueID||(a.__uniqueID="uniqueID__"+c++)}}var d=function(a,b){var c=typeof a[b];return("function"===c||"object"===c)&&!!a[b]||"unknown"===c},e=function(a){switch(a.charCode="keypress"===a.type?a.keyCode:0,a.evntPhase=2,a.isChar=a.charCode>0,a.pageX=a.clientX+dmUtil.doc.body.scrollLeft,a.pageY=a.clientY+dmUtil.doc.body.scrollTop,a.preventDefault=function(){this.returnvalue=!1},a.type){case"mouseout":a.relatedTarget=a.toElement;break;case"mouseover":a.relatedTarget=a.fromElement}return a.stopPropagation=function(){this.cancelBubble=!0},a.target=a.srcElement,a.time=(new Date).getTime(),a},f=function(){var b={},c=["touchstart","touchend","touchmove","touchcancel"],d=["start","end","move","cancel"];if(a.global.PointerEvent)c=["pointerdown","pointerup","pointerMove","pointercancel"];else if(a.global.navigator.msPointerEnabled)c=["MSpointerDown","MSpointerUp","MSpointerMove","MSpointerCancel"];else{var e=a.global.navigator.maxTouchPoints;e?(b.touchSupport=!0,b.multiTouchSupport=e>1?!0:!1):(b.touchSupport=!1,c=["mousedown","mouseup","mousemove","mouseout"])}for(var f=0,g=d.length;g>f;f++)b[d[f]]=c[f];return b}(),g={},h=a.doc.documentElement;if(d(h,"addEventListener")&&d(h,"removeEventListener"))h=null,g.addListener=function(a,b,c,d){a.addEventListener(b,c,d)},g.removeListener=function(a,b,c,d){a.removeEventListener(b,c,d)};else if(d(h,"attachEvent")&&d(h,"deatachEvent")){var i={},j={},k=function(a){return j[a]},l=function(a,b){j[a]=b},m=function(b,c){return c.handlerEvent?function(a){c.handlerEvent(a)}:function(d){c.call(k(b),e(d||a.global.event))}},n=function(a,b){return{handler:b,wrapperHandeler:m(a,b)}};h=null,g.addListener=function(a,c,d){var e=b(a);l(e,a),i[e]||(i[e]={}),i[e][c]||(i[e][c]=[]);var f=n(e,d);i[e][c].push(f),a.attachEvent("on"+c,f.wrapperHandeler)},g.removeListener=function(a,c,d){var e,f=b(a);if(i[f]&&i[f][c]){var g=i[f][c].length-1;do e=i[f][c][g],e&&e.handler===d&&(a.deatachEvent("on"+c,e.wrapperHandeler),i[f][c][g]=null);while(g--)}}}else{h=null;var o={},p=function(b,c){return function(d){if(o[b]&&o[b][c]){var e,f,g=o[b][c];for(e=0,f=g.length;f>e;e++)g[e].call(this,d||a.global.event)}}};g.addListener=function(a,c,d){var e=b(a);if(o[e]||(o[e]={}),!d[e][c]){o[e][c]=[];var f=a["on"+c];f&&o[e][c].push(f),a["on"+c]=p(e,c)}o[e][c].push(d)},g.removeListener=function(a,c,d){var e=b(a);if(o[e]&&o[e][c]){var f=handlerEvent[e][c],g=f.length-1;do f[g]===d&&f.splice(g,1);while(g--)}}}return{isHostMethod:d,aboutHandler:g,touchEvent:f}}(),a.StringUtility=function(){"use strict";var a=/^\s+/,b=/\s\s*$/,c=/<(?=((?:.|\s)*?>))\1/g,d=function(c){return c.replace(a,"").replace(b,"")},e=function(a){return a.replace(c,"")};return{trim:d,stripHtml:e}}(),a.ArrayUtility=function(){"use strict";var a,b;a=Array.prototype.indexOf?function(a,b,c){return a.indexOf(b,c)}:function(a,b,c){if(null===a)return-1;var d,e=Object.create(a),f=e.length>>>0;if(0===f)return-1;var g=+c||0;if(g>=f)return-1;d=Math.max(g>=0?g:f+g,0);do{if(e.hasOwnProperty(d)&&e[d]===b)return d;d++}while(f>d);return-1},b="undefined"==typeof Array.isArray?function(a){return"[Object Array]"===Object.prototype.toString.call(a)}:Array.isArray;var c=function(a){try{return Array.prototype.slice.call(a)}catch(b){for(var c=0,d=a.length,e=Array(d);d>c;)e[c]=a[c],c++;return e}};return{indexOf:a,isArray:b,collectionToArray:c}}(),a.ClassList=function(){"use strict";if("classList"in a.doc.createElement("_")){var b=a.doc.createElement("_");if(b.classList.add("c1","c2"),!b.classList.contains("c2")){createElement("add"),createElement("remove")}if(b.classList.toggle("c3",!1),b.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}return b=null,function(a){return a.classList}}var d=function(b,c){return""===c?-2:/s/.test(c)?-3:a.ArrayUtilty.indexOf(b,c)},e=function(b){for(var c=a.StringUtility.trim(b.getAttribute("class")||""),d=c?c.split(/s+/):[],e=0,f=d.length;f>e;e++)this.push(d[e]);this._updateClassName=function(){b.setAttribute("class",this.toString())}},f=e.prototype=[];return f.item=function(a){return this[a]||null},f.contains=function(a){return a+="",-1!==d(this,a)},f.add=function(){var a,b=arguments,c=0,e=b.length,f=!1;do a=b[c]+"",-1===d(this,a)&&(this.push(a),f=!0);while(c++<e);f&&this._updateClassName()},f.remove=function(){var a,b,c=arguments,e=0,f=c.length,g=!1;do for(a=c[e]+"",b=d(this,a);-1!==b;)this.split(b,1),g=!0,b=d(this,a);while(++e<f);g&&this._updateClassName()},f.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},f.toString=function(){return this.join(" ")},function(a){return new e(a)}}(),a.animatedFrame=function(){"use strict";for(var a=0,b=["ms","moz","webkit","o"],c=b.length,d=window.requestAnimationFrame,e=window.cancelAnimationFrame;c--&&!d;)d=window[b[c]+"RequestAnimationFrame"],e=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelAnimationFrame"];return d?{request:d.bind(window),cancel:e.bind(window)}:{request:function(b){var c=performance.now(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e},cancel:function(a){window.clearTimeout(a)}}}(),a.AnimateConfig=function(){function a(){if(b)return b;if(!(this instanceof a))return new a;var c=0,d=150,e="linear",f=function(){},g=function(){};b=this,b.getDelay=function(){return c},b.setDelay=function(a){if("number"!=typeof a)throw"Delay Must Be a Number";c=a},b.getDuration=function(){return d},b.setDuration=function(a){if("number"!=typeof a)throw"Duration Must Be a Number";d=a},b.getTiming=function(){return e},b.setTiming=function(a){if("string"!=typeof a)throw"Timing Must Be a string";e=a},b.getCore=function(){return f},b.setCore=function(a){if("function"!=typeof a)throw"Core Must Be a Function";f=a},b.getEnding=function(){return g},b.setEnding=function(a){if("function"!=typeof a)throw"Ending Must Be a Function";g=a}}var b;return a}(),a.AnimateObject=function(){var b,c,d,e,f=new a.Class.Interface("Frames",["getDelay","setDelay","getDuration","setDuration","getTiming","setTiming","getCore","setCore","getEnding","setEnding"]),g=function(a){return a},h=function(a){return Math.pow(a,2)},i=function(a){return Math.pow(a,3)},j=function(a){return(Math.pow(a,3)*b+Math.pow(a,2)*c+d*a+e-e)/(b+c+d)},k=function(a){return 1-Math.sin(Math.acos(a))},l=function(a,b){return Math.pow(a,2)*((b+1)*a-b)},m=function o(m){if(!(this instanceof o))return new o(m);"undefined"!=typeof m?a.Class.Interface.ensureImplements(m,f):m=a.AnimateConfig();var n=m,p=0;if(this.delay=n.getDelay(),this.duration=n.getDuration(),"string"==typeof n.getTiming()){var q=n.getTiming().split("(");switch(q[0]){case"linear":this.timing=g;break;case"quadratic":this.timing=h;break;case"cubic":this.timing=i;break;case"cubicBezier":if(q[1]){for(var r=q[1].split(","),s=[],t=0,u=r.length;u>t;t++)s[t]=parseFloat(r[t]);e=s[0],d=3*(s[1]-e),c=3*(s[2]-s[1])-d,b=s[3]-e-c-d,this.timing=j}else console.log("Few arguments for cubicBezier"),this.timing=g;break;case"circ":this.timing=k;break;case"back":this.timing=l;break;default:this.timing=g}}else this.timing=n.geTiming();this.step=n.getCore(),this.ending=n.getEnding(),this.timePassed=0,this.progress=0,this.id=0,this.startTimeCount=function(){p=performance.now()?performance.now():Date.now()},this.getStartTime=function(){return p}},n=m.prototype;return n.animate=function(b){if(1!==arguments.length)throw"Error can't pass argument to this function";this.timePassed=b-this.getStartTime(),this.progress=this.timePassed/this.duration,this.progress>1&&(this.progress=1);var c=this.timing(this.progress);this.step(c),1===this.progress?(this.progress=0,this.ending(),this._loop&&(this._loop=null),a.animatedFrame.cancel(this.id)):this.id=a.animatedFrame.request(this._loop)},n.startAnimate=function(){this.startTimeCount(),this._loop||(this._loop=this.animate.bind(this)),this.id=a.animatedFrame.request(this._loop)},m}()},b.dmPaper=function(a){a.PaperMaker=function(){function b(a,b){return r[a][b]||null}function c(a,b,c){var d=a/1e3,e=b/1e3,f=d+e,g=c.width,h=c.height,i=1.1*Math.min(Math.sqrt(g*g+h*h),u)+5,j=1.1-.2*(i/u),k=f/j,l=i*(1-Math.pow(80,-k));return Math.abs(l)}function d(a,b,c){var d=b/1e3;return 0>=b?c.initial_opacity:Math.max(0,c.initial_opacity-d*c.opacity_dacay_vel)}function e(a,b,c){var e=a/1e3,f=.3*e,g=d(a,b,c);return Math.max(0,Math.min(f,g))}function f(a,b,c,d,e,f){void 0!==f&&(a.bg.style.opacity=f),a.wave.style.opacity=e;var g=d/(a.containerSize/2),h=b-a.containerWidth/2,i=c-a.containerHeight/2,j="translate3d("+h+"px,"+i+"px,0px)";a.wc.style.transform=j,a.wc.style.webkitTransform=j,a.wave.style.webkitTransform="scale("+g+","+g+")",a.wave.style.transform="scale3d("+g+","+g+",1)"}function g(a,b,c){var e=d(a.td,a.tu,c);return.01>e&&b>=Math.min(a.max_radius,u)}function h(a,b,c){var e=d(a.td,a.tu,c);return e>=c.initial_opacity&&b>=Math.min(a.max_radius,u)}function i(b){var c=window.getComputedStyle(b.paper_ele),d=c.color,e=a.doc,f=e.createElement("div"),g=e.createElement("div");f.style.backgroundColor=d,a.ClassList(f).add("wave"),a.ClassList(g).add("wave-wrapper"),g.appendChild(f);var h={bg:b.chd.bg,container:b.chd.waves,wc:g,wave:f,bColor:d,isMouseDown:!1,mouseDownS:0,mouseUpS:0,td:0,tu:0};return h}function j(a,b){if(a.waves){var c=a.waves.indexOf(b);a.waves.splice(c,1),b.wc.remove()}}function k(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function l(a,b){var c=k(a,{x:0,y:0}),d=k(a,{x:b.w,y:0}),e=k(a,{x:0,y:b.h}),f=k(a,{x:b.w,y:b.h});return Math.max(c,d,e,f)}function m(b){var c=i(this);c.isMouseDown=!0,c.td=0,c.tu=0,c.mouseUpS=0,c.mouseDownS=q();var d=this.paper_ele.getBoundingClientRect(),e=d.width,f=d.height,g=b.clientX-d.left,h=b.clientY-d.top;c.origin={x:g,y:h},this.chd.bg.classList.contains("recenteringTouch")&&(c.endPosition={x:e/2,y:f/2}),c.containerSize=Math.max(e,f),c.containerWidth=e,c.containerHeight=f,c.wc.style.top=(c.containerHeight-c.containerSize)/2+"px",c.wc.style.left=(c.containerWidth-c.containerSize)/2+"px",c.wc.style.width=c.containerSize+"px",c.wc.style.height=c.containerSize+"px",c.max_radius=l(c.origin,{w:e,h:f}),this.waves.push(c),c.container.appendChild(c.wc),this.chd.bg.style.backgroundColor=c.bColor,this.loop||(this.loop=this.animate.bind(this,{width:e,height:f}),a.animatedFrame.request(this.loop))}function n(){for(var b=0,c=this.waves.length;c>b;b++){var d=this.waves[b];if(d.isMouseDown){d.isMouseDown=!1,d.mouseUpS=q(),d.mouseDownS=0,d.tu=0;break}}this.loop&&a.animatedFrame.request(this.loop)}function o(b){for(var i=!1,k=[],l=0,m=0,n={initial_opacity:this.initial_opacity,opacity_dacay_vel:this.opacity_dacay_vel,height:b.height,width:b.width},o=0,p=this.waves.length;p>o;o++){var r=this.waves[o];r.mouseDownS>0&&(r.td=q()-r.mouseDownS),r.mouseUpS>0&&(r.tu=q()-r.mouseUpS);var s=r.tu,t=r.td;l=Math.max(l,t),m=Math.max(m,s);var u=c(t,s,n),v=d(t,s,n),w=r.origin.x,x=r.origin.y,y=e(t,s,n);if(r.endPosition){var z=Math.min(1,u/r.containerSize*2/Math.sqrt(2));w+=z*(r.endPosition.x-r.origin.x),x+=z*(r.endPosition.y-r.origin.y)}f(r,w,x,u,v,y);var A=h(r,u,n),B=g(r,u,n),C=!B||A;shouldRenderWaveAgain=r.mouseUpS?!B:!A,i=i||shouldRenderWaveAgain,C||k.push(r)}i&&a.animatedFrame.request(this.loop);for(var o=0,p=k.length;p>o;o++){var r=k[o];j(this,r)}!this.waves.length&&this.loop&&(this.chd.bg.style.backgroundColor=null,this.loop=null)}function p(){}var q=Date.now;a.global.performance&&performance.now&&(q=performance.now.bind(performance));var r={button:[],buttonEvents:["mousedown","mouseup","contextmenu"]},s=0,t={buttonEvent:function(b){switch(b.type){case"mousedown":b.currentTarget.setAttribute("pressed",""),b.currentTarget.setAttribute("active",""),m.call(this,b);break;case"mouseup":b.currentTarget.removeAttribute("pressed"),b.currentTarget.removeAttribute("active"),n.call(this);break;case"contextmenu":n.call(this,b);break;default:return}a.animatedFrame.cancel(this.anID),this.anID=a.animatedFrame.request(this.update.bind(this))},buttonUpdate:function(){var b=a.ClassList(this.chd.shadow_level);this.waves[0].isMouseDown?(b.remove("bs-zLevel-1"),b.add("bs-zLevel-2"),this.waves[0].bg.style.backgroundColor=this.waves[0].bColor):this.waves[0].isMouseDown||(b.remove("bs-zLevel-2"),b.add("bs-zLevel-1"))},addHandler:function(c,d){var e=this.type;a.EventUtility.aboutHandler.addListener(this.paper_ele,c,function(a){b(e,d).handlerEvent.call(b(e,d),a)})}},u=150;return p.version="0.5",p.prototype.paperVersion=function(){return p.version},p.prototype.initbutton=function(a){if(0===a.length)throw"Need the top Paper Element";this.paper_ele=a.element,this.chd.shadow_level=this.paper_ele.querySelector(".shadow"),this.chd.bg=this.paper_ele.querySelector(".bg"),this.chd.waves=this.paper_ele.querySelector(".waves"),this.waves=[],this.animate=o},p.factory=function v(){if(this instanceof v)throw"It's not a constructor";var a,b=Array.prototype.slice.call(arguments),c=b.shift(),d="init"+c;if("function"!=typeof p[c])throw{name:"Error",message:c+"doesn't exist"};"function"!=typeof p[c].prototype.paperVersion&&(p[c].prototype=Object.create(p.prototype),p[c].prototype.type=c,p[c].prototype.handlerEvent=t[c+"Event"],p[c].prototype.update=t[c+"Update"],p[c].prototype.addHandler=t.addHandler,t=null),a=new p[c],a[d](b[0]),r[c].push(a),a=null},p.factory.MakePaperLive=function(){for(var a=r.button,b=r.buttonEvents,c=a.length,d=c-1;d>=s;d--)a[d].addHandler(b[0],d),a[d].addHandler(b[1],d),a[d].addHandler(b[2],d);s=c},p.button=function(){this.paper_ele=null,this.chd={},this.anID=0,this.initial_opacity=.25,this.opacity_dacay_vel=.8},p.factory}()},a=function c(){var a,d=Array.prototype.slice.call(arguments),e=d.pop(),f=d[0]&&"string"==typeof d[0]?d:d[0];if(!(this instanceof c))return new c(f,e);if(this.global=window,this.doc=document,this.now=Date.now,window.performance&&performance.now&&(this.now=performance.now.bind(performance)),!f||"*"===f){f=[];for(a in b)b.hasOwnProperty(a)&&f.push(a)}for(a=f.length;a--;)b[f[a]](this);e(this)}}();